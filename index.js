const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/feedbacks-index-v30QgVlj.js","assets/vendor-C97g7yHx.js","assets/vendor-COwsy_qA.css","assets/submit-feedback-iQy5cpP7.js"])))=>i.map(i=>d[i]);
import{a as x,i as y}from"./assets/vendor-C97g7yHx.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const U="modulepreload",V=function(e){return"/Project_CTRL-ALT-ELITE/"+e},C={},v=function(t,o,u){let r=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");r=Promise.allSettled(o.map(i=>{if(i=V(i),i in C)return;C[i]=!0;const m=i.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${g}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":U,m||(c.as="script"),c.crossOrigin="",c.href=i,a&&c.setAttribute("nonce",a),document.head.appendChild(c),m)return new Promise((f,b)=>{c.addEventListener("load",f),c.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${i}`)))})}))}function n(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return r.then(s=>{for(const a of s||[])a.status==="rejected"&&n(a.reason);return t().catch(n)})},G=document.querySelector(".header-burger-btn"),P=document.querySelector(".mobile-menu"),K=document.querySelector(".mobile-menu .mobile-menu-close-btn"),W=document.querySelectorAll(".mobile-menu-item");G.addEventListener("click",()=>{P.classList.add("is-open"),document.body.classList.add("mobile-menu-open")});K.addEventListener("click",()=>{P.classList.remove("is-open"),document.body.classList.remove("mobile-menu-open")});W.forEach(e=>{e.addEventListener("click",()=>{P.classList.remove("is-open"),document.body.classList.remove("mobile-menu-open")})});function J(e,t){return x.get(`https://sound-wave.b.goit.study/api${e}?${t}`)}const Q={artists_list:"/artists"};async function X(e=1,t=8){const o=`page=${e}&limit=${t}`;return(await J(Q.artists_list,o)).data}const N="/Project_CTRL-ALT-ELITE/assets/icon-Bk7T_pYb.svg",M=document.querySelector(".artists-list"),Z="https://placehold.co/640x393";function ee(e){const t=M.querySelectorAll(".artists-card-item").length,o=e.map((u,r)=>{const{_id:n,strArtist:s,strBiographyEN:a,strArtistThumb:i,genres:m=[]}=u,g=m.map(A=>`<li class="artists-genres-item">${A}</li>`).join(""),f=t+r<4;return`<li class="artists-card-item">
          <img class="artists-image" src="${i||Z}" alt="${s}" loading="${f?"eager":"lazy"}"
        decoding="async" fetchpriority="${f?"high":"low"}"/>
          <ul class="artists-genres-list">
            ${g}
          </ul>
          <p class="artists-name">${s}</p>
          <p class="artists-information">
            ${a}
          </p>
          <button class="artists-learn-more-card-btn open-artist-modal" data-artist-id="${n}">
            Learn More
            <svg class="caret-right-icon" width="8" height="16">
              <use href="${N}#icon-button-artists"></use>
            </svg>
          </button>
        </li>`}).join("");M.insertAdjacentHTML("beforeend",o)}let B=null;const te=document.querySelector("[data-modal]");function re(e){const t=e.target.closest(".artists-learn-more-card-btn");t&&(B=t.dataset.artistId,oe())}function ne(){return B}function oe(){te.classList.remove("is-hidden")}async function se(e){if(!e)throw new Error("Oops...something wrong :(");const{data:t}=await x.get(`https://sound-wave.b.goit.study/api/artists/${e}/albums`);return t}async function ae(e){const{genres:t=[],albumsList:o=[],strArtist:u="Unknown artist",strArtistThumb:r="",strBiographyEN:n="",strGender:s="-",strCountry:a="-",intMembers:i="-",intFormedYear:m="-",intDiedYear:g=null}=await se(e),c=g??"present";function f(d){if(!d||d===0||d==="0")return"—";const p=parseInt(d),$=Math.floor(p/6e4).toString().padStart(2,"0"),H=Math.floor(p%6e4/1e3).toString().padStart(2,"0");return`${$}:${H}`}const b=t.map(d=>`<div data-genres class="section-modal-genres">${d}</div>`).join(""),q=d=>(d??[]).map(p=>{const $=p.movie?`
          <a data-item-icon-linc href="${p.movie}" class="container-list-item-span-link" target="_blank" rel="noopener noreferrer">
            <svg class="close-svg" width="24" height="24">
                <use href="${N}#icon-Youtube"></use>
            </svg>
          </a>`:"";return`
          <li class="section-modal-albume-container-list-item">
          <span data-item-nane class="container-list-item-span">${p.strTrack??"—"}</span>
          <span data-item-time class="container-list-item-span">${f(p.intDuration)}</span>${$}
          </li>
    `}).join(""),A=o.map(d=>`
        <div data-albume-container class="section-modal-albume-container">
          <h3 data-albume-title class="section-modal-albume-container-title">${d.strAlbum??"-"}</h3>

          <ul class="section-modal-albume-container-list">
            <li class="section-modal-albume-container-list-item-selrct">
              <span class="container-list-item-selrct-span">Track</span>
              <span class="container-list-item-selrct-span">Time</span>
              <span class="container-list-item-selrct-span">Link</span>
            </li>
            ${q(d.tracks)}
          </ul>
    </div>
    `).join(""),l=document.querySelector(".modal-template").content.cloneNode(!0);return l.querySelector("[data-artist-title]").textContent=u,l.querySelector("[data-sex]").textContent=s,l.querySelector("[data-members]").textContent=i,l.querySelector("[data-country]").textContent=a,l.querySelector("[data-biography]").textContent=n,l.querySelector("[data-years]").textContent=`${m}-${c}`,l.querySelector("[data-section-modal-img]").src=r,l.querySelector("[data-section-modal-img]").alt=u,l.querySelector("[data-genres]").innerHTML=b,l.querySelector("[data-albums-wrapper]").innerHTML=A,l}const E=document.querySelector(".backdrop"),O=document.querySelector(".js-modal-content"),I=document.querySelector("[data-modal-loader]"),R=document.querySelector(".modal-close");function D(e){e.key==="Escape"&&S()}function Y(e){e.target===E&&S()}function ie(){R.addEventListener("click",S),document.addEventListener("keydown",D),E.addEventListener("click",Y)}function S(){E.classList.add("is-hidden"),R.removeEventListener("click",S),document.removeEventListener("keydown",D),E.removeEventListener("click",Y),h.clearModalContent()}const h={clearModalContent(){O.innerHTML=""},renderModal(e){this.clearModalContent(),O.appendChild(e)},showLoader(){I.classList.remove("is-hidden")},hideLoader(){I.classList.add("is-hidden")},showError(){y.error({message:"Oops...something wrong :(",position:"topRight"})}};async function z(e){try{h.showLoader(),ie();const t=await ae(e);h.renderModal(t)}catch{h.showError()}finally{h.hideLoader()}}const ce=Object.freeze(Object.defineProperty({__proto__:null,showArtist:z},Symbol.toStringTag,{value:"Module"})),T=8;let L=1;const w=document.querySelector(".artists-load-more-btn"),k=document.querySelector("[data-artists-loader]");M.addEventListener("click",le);w.addEventListener("click",de);function le(e){re(e);const t=ne();t&&z(t)}async function F(e,t){try{const o=await X(e,t);return ee(o.artists),o.artists||[]}catch{return y.error({message:"Failed to load artists. Please try again."}),[]}}F(L,T);async function de(){L+=1,w.classList.add("artists-visually-hidden"),k.classList.remove("is-hidden");try{const e=await F(L,T);if(k.classList.add("is-hidden"),e.length===0){y.warning({message:"You've load all available artists.There're nomore results."});return}if(e.length<T){y.warning({message:`You've load last ${e.length} artists`});return}w.classList.remove("artists-visually-hidden")}catch{L-=1,k.classList.add("is-hidden"),y.error({message:"Something went wrong while trying to load artists. Please try again"}),w.classList.remove("artists-visually-hidden")}}let j=!1;window.addEventListener("load",()=>{v(()=>Promise.resolve().then(()=>ue),void 0),v(()=>Promise.resolve().then(()=>me),void 0)});function _(){j||(j=!0,v(()=>Promise.resolve().then(()=>ce),void 0),v(()=>import("./assets/feedbacks-index-v30QgVlj.js"),__vite__mapDeps([0,1,2,3])),v(()=>import("./assets/submit-feedback-iQy5cpP7.js"),__vite__mapDeps([3,1,2])),window.removeEventListener("pointerdown",_),window.removeEventListener("keydown",_))}window.addEventListener("pointerdown",_,{once:!0});window.addEventListener("keydown",_,{once:!0});const ue=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),me=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{J as g,N as i};
//# sourceMappingURL=index.js.map
