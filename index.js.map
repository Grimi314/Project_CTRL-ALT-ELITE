{"version":3,"file":"index.js","sources":["../src/js/artists/artists-index.js","../src/js/artists-modal/artists-modal-api.js","../src/js/artists-modal/artists-modal-render.js","../src/js/artists-modal/modal-ui.js","../src/js/artists-modal/artists-modal-index.js","../src/js/other-section/header.js","../src/js/other-section/submit-feedback.js"],"sourcesContent":["console.log('hello');\n","import axios from 'axios';\n\nexport async function getAlbums(id) {\n  if (!id) throw new Error('Oops...something wrong :(');\n  const { data } = await axios.get(\n    `https://sound-wave.b.goit.study/api/artists/${id}/albums`\n  );\n  return data;\n}\n","import { getAlbums } from './artists-modal-api';\n\nexport async function markup(artistId) {\n  const {\n    genres = [],\n    albumsList = [],\n    strArtist = 'Unknown artist',\n    strArtistThumb = '',\n    strBiographyEN = '',\n    strGender = '-',\n    strCountry = '-',\n    intMembers = '-',\n    intFormedYear = '-',\n    intDiedYear = null,\n  } = await getAlbums(artistId);\n\n  const valueDiedYear = intDiedYear ?? 'present';\n\n  function formatTime(ms) {\n    if (!ms || ms === 0 || ms === '0') return '—';\n    const time = parseInt(ms);\n\n    const minutes = Math.floor(time / 60000)\n      .toString()\n      .padStart(2, '0');\n    const seconds = Math.floor((time % 60000) / 1000)\n      .toString()\n      .padStart(2, '0');\n\n    return `${minutes}:${seconds}`;\n  }\n\n  const genresMarkup = genres\n    .map(el => {\n      return `<div data-genres class=\"section-modal-genres\">${el}</div>`;\n    })\n    .join('');\n\n  const tracksMarkup = tracks =>\n    (tracks ?? [])\n      .map(track => {\n        const link = track.movie\n          ? `\n          <a data-item-icon-linc href=\"${track.movie}\" class=\"container-list-item-span-link\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <svg class=\"close-svg\" width=\"24\" height=\"24\">\n                <use href=\"/img/icon.svg#icon-Youtube\"></use>\n            </svg>\n          </a>`\n          : '';\n\n        return `\n          <li class=\"section-modal-albume-container-list-item\">\n          <span data-item-nane class=\"container-list-item-span\">${track.strTrack ?? '—'}</span>\n          <span data-item-time class=\"container-list-item-span\">${formatTime(track.intDuration)}</span>${link}\n          </li>\n    `;\n      })\n      .join('');\n\n  const albumsMarkup = albumsList\n    .map(album => {\n      return `\n        <div data-albume-container class=\"section-modal-albume-container\">\n          <h3 data-albume-title class=\"section-modal-albume-container-title\">${album.strAlbum ?? '-'}</h3>\n\n          <ul class=\"section-modal-albume-container-list\">\n            <li class=\"section-modal-albume-container-list-item-selrct\">\n              <span class=\"container-list-item-selrct-span\">Track</span>\n              <span class=\"container-list-item-selrct-span\">Time</span>\n              <span class=\"container-list-item-selrct-span\">Link</span>\n            </li>\n            ${tracksMarkup(album.tracks)}\n          </ul>\n    </div>\n    `;\n    })\n    .join('');\n\n  const template = document.querySelector('.modal-template');\n\n  const clone = template.content.cloneNode(true);\n\n  clone.querySelector('[data-artist-title]').textContent = strArtist;\n  clone.querySelector('[data-sex]').textContent = strGender;\n  clone.querySelector('[data-members]').textContent = intMembers;\n  clone.querySelector('[data-country]').textContent = strCountry;\n  clone.querySelector('[data-biography]').textContent = strBiographyEN;\n  clone.querySelector('[data-years]').textContent =\n    `${intFormedYear}-${valueDiedYear}`;\n\n  clone.querySelector('[data-section-modal-img]').src = strArtistThumb;\n  clone.querySelector('[data-section-modal-img]').alt = strArtist;\n\n  clone.querySelector('[data-genres]').innerHTML = genresMarkup;\n  clone.querySelector('[data-albums-wrapper]').innerHTML = albumsMarkup;\n\n  return clone;\n}\n","import iziToast from 'izitoast';\n\nconst backdrop = document.querySelector('.backdrop');\nconst modalContent = document.querySelector('.js-modal-content');\nconst loader = document.querySelector('.loader');\nconst closeBtn = document.querySelector('.modal-close');\n\nfunction onEsc(e) {\n  if (e.key === 'Escape') closeModal();\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === backdrop) closeModal();\n}\n\nexport function listener() {\n  closeBtn.addEventListener('click', closeModal);\n  document.addEventListener('keydown', onEsc);\n  backdrop.addEventListener('click', onBackdropClick);\n}\n\nfunction closeModal() {\n  backdrop.classList.add('is-hidden');\n  closeBtn.removeEventListener('click', closeModal);\n  document.removeEventListener('keydown', onEsc);\n  backdrop.removeEventListener('click', onBackdropClick);\n\n  func.clearModalContent();\n}\n\nexport const func = {\n  clearModalContent() {\n    modalContent.innerHTML = '';\n  },\n  renderModal(content) {\n    this.clearModalContent();\n    modalContent.appendChild(content);\n  },\n  showLoader() {\n    loader.classList.remove('is-hidden');\n  },\n  hideLoader() {\n    loader.classList.add('is-hidden');\n  },\n  showError() {\n    iziToast.error({\n      message: 'Oops...something wrong :(',\n      position: 'topRight',\n    });\n  },\n};\n","import { markup } from './artists-modal-render';\nimport { func, listener } from './modal-ui';\n//import { getSelectedArtistId } from '../artists/artist-helpers.js';\n\nexport async function showArtist(artistId) {\n  try {\n    func.showLoader();\n    listener();\n    const data = await markup(artistId);\n\n    func.renderModal(data);\n  } catch (error) {\n    func.showError();\n  } finally {\n    func.hideLoader();\n  }\n}\n\nshowArtist('65adae06af9f6d155db4b23a');\n\n// getSelectedArtistId()\n","const burgerBtn = document.querySelector('.header-burger-btn');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst mobileMenuCloseBtn = document.querySelector('.mobile-menu .mobile-menu-close-btn');\n\nconst mobileMenuItems = document.querySelectorAll('.mobile-menu-item');\n\n// Open mobile menu\nburgerBtn.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    document.body.classList.add('mobile-menu-open');\n});\n\n// Close mobile menu\nmobileMenuCloseBtn.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.classList.remove('mobile-menu-open');\n});\n\n// Close mobile menu when clicking on a menu item\nmobileMenuItems.forEach(item => {\n    item.addEventListener('click', () => {\n        mobileMenu.classList.remove('is-open');\n        document.body.classList.remove('mobile-menu-open');\n    });\n});\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n  closeModalBtn: document.querySelector('.feedbacks-modal-btn'),\n  modal: document.querySelector('.feedbacks-modal'),\n  form: document.querySelector('.feedbacks-modal-form'),\n  submitBtn: document.querySelector('.feedback-modal-submit'),\n  body: document.body,\n};\n\nconst setSubmitState = isValid => {\n  refs.submitBtn.disabled = !isValid;\n\n  refs.submitBtn.style.opacity = isValid ? '1' : '0.5';\n  refs.submitBtn.style.cursor = isValid ? 'pointer' : 'not-allowed';\n};\n\nconst validateForm = () => {\n  if (!refs.form && !refs.submitBtn) return;\n\n  const name = refs.form.querySelector('input[name=\"name\"]');\n  const message = refs.form.querySelector('textarea[name=\"message\"]');\n  const rating = refs.form.querySelector('input[name=\"rating\"]:checked');\n\n  const isNameValid = name && name.value.trim() !== '';\n  const isMessageValid = message && message.value.trim() !== '';\n  const isRatingSelected = rating !== null;\n\n  const isValid = isNameValid && isMessageValid && isRatingSelected;\n\n  setSubmitState(isValid);\n};\n\nconst onEscKeyPress = e => {\n  if (e.key === 'Escape') closeModal();\n};\n\nconst openModal = () => {\n  refs.modal.classList.remove('is-hidden');\n  refs.body.style.overflow = 'hidden';\n\n  window.addEventListener('keydown', onEscKeyPress);\n  validateForm();\n};\n\nconst closeModal = () => {\n  refs.modal.classList.add('is-hidden');\n  refs.body.style.overflow = '';\n  window.removeEventListener('keydown', onEscKeyPress);\n\n  refs.form.reset();\n  validateForm();\n};\n\nrefs.form.addEventListener('input', validateForm);\nrefs.form.addEventListener('change', validateForm);\n\nrefs.closeModalBtn.addEventListener('click', closeModal);\n\nrefs.modal.addEventListener('click', e => {\n  if (e.target === refs.modal) closeModal();\n});\n\nvalidateForm();\n\nrefs.form.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  const formData = new FormData(e.currentTarget);\n\n  const data = {\n    name: formData.get('name').trim(),\n    rating: Number(formData.get('rating')),\n    descr: formData.get('message').trim(),\n  };\n\n  try {\n    const response = await fetch(\n      'https://sound-wave.b.goit.study/api/feedbacks',\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(data),\n      }\n    );\n\n    if (!response.ok) {\n      const errorResult = await response.json();\n      throw new Error(errorResult.message || 'Something went wrong.');\n    }\n\n    iziToast.success({\n      title: 'Success',\n      message: 'Thank you for your feedback!',\n      position: 'topRight',\n    });\n\n    closeModal();\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n      position: 'topRight',\n    });\n  }\n});"],"names":["getAlbums","id","data","axios","markup","artistId","genres","albumsList","strArtist","strArtistThumb","strBiographyEN","strGender","strCountry","intMembers","intFormedYear","intDiedYear","valueDiedYear","formatTime","ms","time","minutes","seconds","genresMarkup","el","tracksMarkup","tracks","track","link","albumsMarkup","album","clone","backdrop","modalContent","loader","closeBtn","onEsc","closeModal","onBackdropClick","listener","func","content","iziToast","showArtist","burgerBtn","mobileMenu","mobileMenuCloseBtn","mobileMenuItems","item","refs","setSubmitState","isValid","validateForm","name","message","rating","isNameValid","isMessageValid","onEscKeyPress","formData","response","errorResult","error"],"mappings":"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"}