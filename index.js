import{i as d}from"./assets/vendor-I1I71QQ2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();console.log("hello");const u=document.querySelector(".header-burger-btn"),m=document.querySelector(".mobile-menu"),f=document.querySelector(".mobile-menu .mobile-menu-close-btn"),b=document.querySelectorAll(".mobile-menu-item");u.addEventListener("click",()=>{m.classList.add("is-open"),document.body.classList.add("mobile-menu-open")});f.addEventListener("click",()=>{m.classList.remove("is-open"),document.body.classList.remove("mobile-menu-open")});b.forEach(o=>{o.addEventListener("click",()=>{m.classList.remove("is-open"),document.body.classList.remove("mobile-menu-open")})});const t={closeModalBtn:document.querySelector(".feedbacks-modal-btn"),modal:document.querySelector(".feedbacks-modal"),form:document.querySelector(".feedbacks-modal-form"),submitBtn:document.querySelector(".feedback-modal-submit"),body:document.body},y=o=>{t.submitBtn.disabled=!o,t.submitBtn.style.opacity=o?"1":"0.5",t.submitBtn.style.cursor=o?"pointer":"not-allowed"},a=()=>{if(!t.form&&!t.submitBtn)return;const o=t.form.querySelector('input[name="name"]'),s=t.form.querySelector('textarea[name="message"]'),i=t.form.querySelector('input[name="rating"]:checked'),n=o&&o.value.trim()!=="",e=s&&s.value.trim()!=="";y(n&&e&&i!==null)},p=o=>{o.key==="Escape"&&l()},l=()=>{t.modal.classList.add("is-hidden"),t.body.style.overflow="",window.removeEventListener("keydown",p),t.form.reset(),a()};t.form.addEventListener("input",a);t.form.addEventListener("change",a);t.closeModalBtn.addEventListener("click",l);t.modal.addEventListener("click",o=>{o.target===t.modal&&l()});a();t.form.addEventListener("submit",async o=>{o.preventDefault();const s=new FormData(o.currentTarget),i={name:s.get("name").trim(),rating:Number(s.get("rating")),descr:s.get("message").trim()};try{const n=await fetch("https://sound-wave.b.goit.study/api/feedbacks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!n.ok){const e=await n.json();throw new Error(e.message||"Something went wrong.")}d.success({title:"Success",message:"Thank you for your feedback!",position:"topRight"}),l()}catch(n){d.error({title:"Error",message:n.message,position:"topRight"})}});
//# sourceMappingURL=index.js.map
