const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/feedbacks-index-v30QgVlj.js","assets/vendor-C97g7yHx.js","assets/vendor-COwsy_qA.css","assets/submit-feedback-iQy5cpP7.js"])))=>i.map(i=>d[i]);
import{a as I,i as v}from"./assets/vendor-C97g7yHx.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&u(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();const V="modulepreload",F=function(e){return"/Project_CTRL-ALT-ELITE/"+e},q={},b=function(t,r,u){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");n=Promise.allSettled(r.map(i=>{if(i=F(i),i in q)return;q[i]=!0;const m=i.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${f}`))return;const c=document.createElement("link");if(c.rel=m?"stylesheet":V,m||(c.as="script"),c.crossOrigin="",c.href=i,a&&c.setAttribute("nonce",a),document.head.appendChild(c),m)return new Promise((g,h)=>{c.addEventListener("load",g),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return n.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},G=document.querySelector(".header-burger-btn"),T=document.querySelector(".mobile-menu"),K=document.querySelector(".mobile-menu .mobile-menu-close-btn"),W=document.querySelectorAll(".mobile-menu-item");G.addEventListener("click",()=>{T.classList.add("is-open"),document.body.classList.add("mobile-menu-open")});K.addEventListener("click",()=>{T.classList.remove("is-open"),document.body.classList.remove("mobile-menu-open")});W.forEach(e=>{e.addEventListener("click",()=>{T.classList.remove("is-open"),document.body.classList.remove("mobile-menu-open")})});function J(e,t){return I.get(`https://sound-wave.b.goit.study/api${e}?${t}`)}const Q={artists_list:"/artists"};async function X(e=1,t=8){const r=`page=${e}&limit=${t}`;return(await J(Q.artists_list,r)).data}const x="/Project_CTRL-ALT-ELITE/assets/icon-Bk7T_pYb.svg",L=document.querySelector(".artists-list"),Z="https://placehold.co/640x393";function ee(e){const t=L.querySelectorAll(".artists-card-item").length,r=e.map((u,n)=>{const{_id:o,strArtist:s,strBiographyEN:a,strArtistThumb:i,genres:m=[]}=u,f=m.map(h=>`<li class="artists-genres-item">${h}</li>`).join(""),g=t+n<4?"eager":"lazy";return`<li class="artists-card-item">
          <img class="artists-image" src="${i||Z}" alt="${s}" loading="${g}"
        decoding="async"/>
          <ul class="artists-genres-list">
            ${f}
          </ul>
          <p class="artists-name">${s}</p>
          <p class="artists-information">
            ${a}
          </p>
          <button class="artists-learn-more-card-btn open-artist-modal" data-artist-id="${o}">
            Learn More
            <svg class="caret-right-icon" width="8" height="16">
              <use href="${x}#icon-button-artists"></use>
            </svg>
          </button>
        </li>`}).join("");L.insertAdjacentHTML("beforeend",r),setTimeout(()=>{L.querySelectorAll(".artists-information").forEach(te)},0)}function te(e){const t=e.dataset.fulltext||e.textContent.trim();if(e.dataset.fulltext=t,e.textContent=t,e.scrollHeight<=e.clientHeight)return;const r=t.split(" ");for(;r.length&&e.scrollHeight>e.clientHeight;)r.pop(),e.textContent=r.join(" ")+"..."}let j=null;const ne=document.querySelector("[data-modal]");function re(e){const t=e.target.closest(".artists-learn-more-card-btn");t&&(j=t.dataset.artistId,se())}function oe(){return j}function se(){ne.classList.remove("is-hidden")}async function ae(e){if(!e)throw new Error("Oops...something wrong :(");const{data:t}=await I.get(`https://sound-wave.b.goit.study/api/artists/${e}/albums`);return t}async function ie(e){const{genres:t=[],albumsList:r=[],strArtist:u="Unknown artist",strArtistThumb:n="",strBiographyEN:o="",strGender:s="-",strCountry:a="-",intMembers:i="-",intFormedYear:m="-",intDiedYear:f=null}=await ae(e),c=f??"present";function g(d){if(!d||d===0||d==="0")return"—";const p=parseInt(d),M=Math.floor(p/6e4).toString().padStart(2,"0"),U=Math.floor(p%6e4/1e3).toString().padStart(2,"0");return`${M}:${U}`}const h=t.map(d=>`<div data-genres class="section-modal-genres">${d}</div>`).join(""),Y=d=>(d??[]).map(p=>{const M=p.movie?`
          <a data-item-icon-linc href="${p.movie}" class="container-list-item-span-link" target="_blank" rel="noopener noreferrer">
            <svg class="close-svg" width="24" height="24">
                <use href="${x}#icon-Youtube"></use>
            </svg>
          </a>`:"";return`
          <li class="section-modal-albume-container-list-item">
          <span data-item-nane class="container-list-item-span">${p.strTrack??"—"}</span>
          <span data-item-time class="container-list-item-span">${g(p.intDuration)}</span>${M}
          </li>
    `}).join(""),z=r.map(d=>`
        <div data-albume-container class="section-modal-albume-container">
          <h3 data-albume-title class="section-modal-albume-container-title">${d.strAlbum??"-"}</h3>

          <ul class="section-modal-albume-container-list">
            <li class="section-modal-albume-container-list-item-selrct">
              <span class="container-list-item-selrct-span">Track</span>
              <span class="container-list-item-selrct-span">Time</span>
              <span class="container-list-item-selrct-span">Link</span>
            </li>
            ${Y(d.tracks)}
          </ul>
    </div>
    `).join(""),l=document.querySelector(".modal-template").content.cloneNode(!0);return l.querySelector("[data-artist-title]").textContent=u,l.querySelector("[data-sex]").textContent=s,l.querySelector("[data-members]").textContent=i,l.querySelector("[data-country]").textContent=a,l.querySelector("[data-biography]").textContent=o,l.querySelector("[data-years]").textContent=`${m}-${c}`,l.querySelector("[data-section-modal-img]").src=n,l.querySelector("[data-section-modal-img]").alt=u,l.querySelector("[data-genres]").innerHTML=h,l.querySelector("[data-albums-wrapper]").innerHTML=z,l}const _=document.querySelector(".backdrop"),P=document.querySelector(".js-modal-content"),C=document.querySelector("[data-modal-loader]"),B=document.querySelector(".modal-close");function N(e){e.key==="Escape"&&k()}function R(e){e.target===_&&k()}function ce(){B.addEventListener("click",k),document.addEventListener("keydown",N),_.addEventListener("click",R)}function k(){_.classList.add("is-hidden"),B.removeEventListener("click",k),document.removeEventListener("keydown",N),_.removeEventListener("click",R),y.clearModalContent()}const y={clearModalContent(){P.innerHTML=""},renderModal(e){this.clearModalContent(),P.appendChild(e)},showLoader(){C.classList.remove("is-hidden")},hideLoader(){C.classList.add("is-hidden")},showError(){v.error({message:"Oops...something wrong :(",position:"topRight"})}};async function D(e){try{y.showLoader(),ce();const t=await ie(e);y.renderModal(t)}catch{y.showError()}finally{y.hideLoader()}}const le=Object.freeze(Object.defineProperty({__proto__:null,showArtist:D},Symbol.toStringTag,{value:"Module"})),A=8;let w=1;const E=document.querySelector(".artists-load-more-btn"),$=document.querySelector("[data-artists-loader]");L.addEventListener("click",de);E.addEventListener("click",ue);function de(e){re(e);const t=oe();t&&D(t)}async function H(e,t){try{const r=await X(e,t);return ee(r.artists),r.artists||[]}catch{return v.error({message:"Failed to load artists. Please try again."}),[]}}H(w,A);async function ue(){w+=1,E.classList.add("artists-visually-hidden"),$.classList.remove("is-hidden");try{const e=await H(w,A);if($.classList.add("is-hidden"),e.length===0){v.warning({message:"You've load all available artists.There're nomore results."});return}if(e.length<A){v.warning({message:`You've load last ${e.length} artists`});return}E.classList.remove("artists-visually-hidden")}catch{w-=1,$.classList.add("is-hidden"),v.error({message:"Something went wrong while trying to load artists. Please try again"}),E.classList.remove("artists-visually-hidden")}}let O=!1;window.addEventListener("load",()=>{b(()=>Promise.resolve().then(()=>me),void 0),b(()=>Promise.resolve().then(()=>pe),void 0)});function S(){O||(O=!0,b(()=>Promise.resolve().then(()=>le),void 0),b(()=>import("./assets/feedbacks-index-v30QgVlj.js"),__vite__mapDeps([0,1,2,3])),b(()=>import("./assets/submit-feedback-iQy5cpP7.js"),__vite__mapDeps([3,1,2])),window.removeEventListener("pointerdown",S),window.removeEventListener("keydown",S))}window.addEventListener("pointerdown",S,{once:!0});window.addEventListener("keydown",S,{once:!0});const me=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),pe=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{J as g,x as i};
//# sourceMappingURL=index.js.map
