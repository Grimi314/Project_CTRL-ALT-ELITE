import{i as l}from"./assets/vendor-I1I71QQ2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();console.log("hello");const t={closeModalBtn:document.querySelector(".feedbacks-modal-btn"),modal:document.querySelector(".feedbacks-modal"),form:document.querySelector(".feedbacks-modal-form"),submitBtn:document.querySelector(".feedback-modal-submit"),body:document.body},m=o=>{t.submitBtn.disabled=!o,t.submitBtn.style.opacity=o?"1":"0.5",t.submitBtn.style.cursor=o?"pointer":"not-allowed"},c=()=>{if(!t.form&&!t.submitBtn)return;const o=t.form.querySelector('input[name="name"]'),s=t.form.querySelector('textarea[name="message"]'),i=t.form.querySelector('input[name="rating"]:checked'),n=o&&o.value.trim()!=="",e=s&&s.value.trim()!=="";m(n&&e&&i!==null)},u=o=>{o.key==="Escape"&&d()},d=()=>{t.modal.classList.add("is-hidden"),t.body.style.overflow="",window.removeEventListener("keydown",u),t.form.reset(),c()};t.form.addEventListener("input",c);t.form.addEventListener("change",c);t.closeModalBtn.addEventListener("click",d);t.modal.addEventListener("click",o=>{o.target===t.modal&&d()});c();t.form.addEventListener("submit",async o=>{o.preventDefault();const s=new FormData(o.currentTarget),i={name:s.get("name").trim(),rating:Number(s.get("rating")),descr:s.get("message").trim()};try{const n=await fetch("https://sound-wave.b.goit.study/api/feedbacks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!n.ok){const e=await n.json();throw new Error(e.message||"Something went wrong.")}l.success({title:"Success",message:"Thank you for your feedback!",position:"topRight"}),d()}catch(n){l.error({title:"Error",message:n.message,position:"topRight"})}});
//# sourceMappingURL=index.js.map
